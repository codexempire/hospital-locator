(this.webpackJsonphope=this.webpackJsonphope||[]).push([[0],{50:function(e,t,a){e.exports=a(66)},55:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(15),c=a(0),o=a.n(c),l=a(17),r=a.n(l),i=(a(55),a(83)),s=a(34),u=a.n(s),m=a(38),p=a(31),d=a.n(p),f=a(92),h=a(82),g=a(93),b=a(94),E=function(e){var t=e.address,a=e.setCoords,n=e.setAddress,c=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.geocodeByAddress)(t);case 3:return n=e.sent,e.next=6,Object(p.getLatLng)(n[0]);case 6:c=e.sent,a(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(d.a,{onChange:function(e){return n(e)},onSelect:function(e){return c(e)},value:t},(function(e){var t=e.getInputProps,a=e.suggestions;e.getSuggestionItemProps,e.loading;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"place-finder-input"},o.a.createElement(f.a,t({placeholder:"Find hospital"}))),a.length>0&&o.a.createElement(h.a,{className:"topper"},a.map((function(e){return o.a.createElement(g.a,null,o.a.createElement(b.a,{primary:e.description}))}))))}))},k=function(e){return o.a.createElement(i.a,{position:"static",className:"app-header"},o.a.createElement("span",{className:"title"},"Hospitela"),e.displayMap&&o.a.createElement(E,e))},j=a(88),x=a(85),O=a(89),y=a(90),v=a(26),w=a(33),N=a(84),S=a(86),C=a(87),J=a(91),H={"10Km":.0900900901,"20Km":.1801801802,"30Km":.2702702703},Y=function(e){var t=e.coord,a=e.setSelectedHospital,l=e.listOfHospitals,r=Object(c.useState)({width:"100%",height:"100%",zoom:12}),i=Object(n.a)(r,2),s=i[0],u=i[1];Object(c.useEffect)((function(){u(Object(v.a)(Object(v.a)({},s),{},{latitude:t.lat,longitude:t.lng}))}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.b,Object.assign({},s,{mapboxApiAccessToken:"pk.eyJ1IjoiY29kZXhlbXBpcmUiLCJhIjoiY2tiOWNydmxkMGN0ZzJ6cGk2eW5ucWVkYSJ9.3_IGZN9HiJ3Y8dxh5MCwpQ",mapStyle:"mapbox://styles/codexempire/ckb9dlcxs0why1iqhw08wqp9u",onViewportChange:function(e){return u(Object(v.a)(Object(v.a)({},e),{},{width:s.width,height:s.height}))}}),l.length>0&&o.a.createElement(w.a,{latitude:t.lat,longitude:t.lng},o.a.createElement(N.a,{className:"marker",width:"100px",height:"100px",style:{color:"blue"}})),l.length>0&&l.map((function(e){return o.a.createElement(w.a,{key:e.id,latitude:e.geometry.coordinates[1],longitude:e.geometry.coordinates[0]},o.a.createElement(N.a,{className:"marker",onClick:function(){return e.preventDefault(),void a(t)},width:"25px",height:"25px",style:{color:"red"}}))}))),!l.length&&o.a.createElement("span",{className:"not-found"},"No hospital found near your location"),o.a.createElement(x.a,{className:"proximity-check"},o.a.createElement(S.a,{style:{borderBottom:"1px solid #333"}},"Search Radius"),o.a.createElement(C.a,null,o.a.createElement("span",null,o.a.createElement(J.a,{checked:"none"===e.selected,onChange:function(t){return e.setSelectedRadio("none")},value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),o.a.createElement("span",null,"none")),o.a.createElement("span",null,o.a.createElement(J.a,{checked:"10km"===e.selected,onChange:function(){return e.setSelectedRadio("10km")},value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),o.a.createElement("span",null,"10Km")),o.a.createElement("span",null,o.a.createElement(J.a,{checked:"20km"===e.selected,onChange:function(){return e.setSelectedRadio("20km")},value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),o.a.createElement("span",null,"20Km")),o.a.createElement("span",null,o.a.createElement(J.a,{checked:"30km"===e.selected,onChange:function(){return e.setSelectedRadio("30km")},value:"b",name:"radio-button-demo",inputProps:{"aria-label":"B"}}),o.a.createElement("span",null,"30Km")))))},I=function(e){var t=e.coord,a=e.listOfHospitals,l=e.setListHospital,r=Object(c.useState)("none"),i=Object(n.a)(r,2),s=i[0],u=i[1];return Object(c.useEffect)((function(){var e,a;e=t,a=l,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/hospital.json?region=ng&bbox=".concat(e.lng+-.5,",").concat(e.lat+-.5,",").concat(e.lng+.5,",").concat(e.lat+.5,"&proximity=-").concat(e.lng,",").concat(e.lat,"&access_token=pk.eyJ1IjoiY29kZXhlbXBpcmUiLCJhIjoiY2tiOWNydmxkMGN0ZzJ6cGk2eW5ucWVkYSJ9.3_IGZN9HiJ3Y8dxh5MCwpQ")).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.features)})).catch((function(e){return console.log(e.message)}))}),[t,l]),o.a.createElement(j.a,{className:"flex flex-row body-wrapper space-around-row",maxWidth:"lg"},o.a.createElement("div",{className:"map-box color-primary"},a&&o.a.createElement(Y,Object.assign({selected:s,setSelectedRadio:function(a){u(a),function(e,t,a){var n;"none"!==t&&(n=H[t]),fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/hospital.json?types=poi&bbox=-".concat(e.lng-n,",").concat(e.lat-n,",").concat(e.lng+n,",").concat(e.la+n,"&access_token=pk.eyJ1IjoiY29kZXhlbXBpcmUiLCJhIjoiY2tiOWNydmxkMGN0ZzJ6cGk2eW5ucWVkYSJ9.3_IGZN9HiJ3Y8dxh5MCwpQ")).then((function(e){return e.json()})).then((function(e){return a(e.features)})).catch((function(e){return console.log(e.message)}))}(t,a,e.setListHospital)}},e))))},W=function(e){return!e.online||e.displayOffline?o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{width:"100px",height:"100px",style:{position:"absolute",top:"40%"}}),o.a.createElement("div",{className:"offline-div"},"You are presently offline check you internet connection and ",o.a.createElement("span",{onClick:function(){return window.location.reload()}},"retry"))):null},L=function(){var e=Object(c.useState)(null),t=Object(n.a)(e,2),a=t[0],l=t[1],r=Object(c.useState)(null),i=Object(n.a)(r,2),s=i[0],u=i[1],m=Object(c.useState)(null),p=Object(n.a)(m,2),d=p[0],f=p[1],h=Object(c.useState)(""),g=Object(n.a)(h,2),b=g[0],E=g[1],O=Object(c.useState)(!1),v=Object(n.a)(O,2),w=v[0],N=v[1],S=Object(c.useState)([]),C=Object(n.a)(S,2),J=C[0],H=C[1];Object(c.useEffect)((function(){navigator.onLine&&N(navigator.onLine)}),[]),Object(c.useEffect)((function(){w&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;l({lat:a,lng:n})}),(function(e){return u(e)}))}),[w]);var Y=a&&!s,L=a&&s;return console.log(w),w?o.a.createElement(j.a,{fixed:!0,maxWidth:"md",className:"flex flex-column"},o.a.createElement(k,{address:b,setCoords:l,setAddress:E,displayMap:Y}),s&&o.a.createElement(x.a,null,o.a.createElement(y.a,null),s.message),L&&o.a.createElement(W,{online:w,displayOffline:!0}),Y&&o.a.createElement(I,{coord:a,setSelectedHospital:f,listOfHospitals:J,setListHospital:H,selectedHospital:d})):o.a.createElement(W,{online:w,displayOffline:!0})};r.a.render(o.a.createElement(L,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.ba115e82.chunk.js.map